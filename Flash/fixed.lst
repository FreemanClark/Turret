


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             mycode, CODE, READONLY
    2 00000000                 EXPORT           __main
    3 00000000                 EXTERN           bearing[SIZE=4]
    4 00000000                 ALIGN
    5 00000000                 ENTRY
    6 00000000         __main  PROC
    7 00000000         ;       //* Step C0 C1 C2 C3
    8 00000000         ;// *    1       1  0  1  0
    9 00000000         ;// *    2       0  1  1  0
   10 00000000         ;// *    3       0  1  0  1
   11 00000000         ;// *    4       1  0  0  1
   12 00000000         
   13 00000000 481C            LDR              R0, =0x2009C040 ;FIO2DIR
   14 00000002 491D            LDR              R1, =0x2009C054 ;FIO2PIN
   15 00000004 4B1D            LDR              R3, =0x2009C034 ;R3 is the addr
                                                            ess for FIO1PIN
   16 00000006         
   17 00000006 F04F 023C       mov              R2, #0x3C
   18 0000000A         
   19 0000000A 6002            str              R2, [R0]
   20 0000000C         
   21 0000000C         ;While 1.24 is on, register will be loaded to ___, and t
                       hen we step through each step until it goes back to orig
                       inal val
   22 0000000C         
   23 0000000C 681A    loop    LDR              R2, [R3]    ; R2 is the value o
                                                            f FIO1PIN (shows if
                                                             pins are on or off
                                                            )
   24 0000000E         
   25 0000000E         ; TODO: Determine if you should jump to up, down, or sho
                       w
   26 0000000E         ; based on the value in R2
   27 0000000E         
   28 0000000E F412 0F00       tst              r2, #0x00800000
   29 00000012 D009            BEQ              up
   30 00000014         
   31 00000014 F012 7F00       tst              r2, #0x02000000
   32 00000018 D006            BEQ              down
   33 0000001A         
   34 0000001A F012 6F80       tst              r2, #0x04000000 ;hex value that
                                                             is a 1 for 26
   35 0000001E D003            BEQ              left
   36 00000020         
   37 00000020 F012 7F80       tst              r2, #0x01000000 ;hex value that
                                                             is a 1 for 24
   38 00000024 D000            BEQ              right
   39 00000026         
   40 00000026 E7F1            B                loop
   41 00000028         up                                   ; TODO: Increment R
                                                            0 and jump to wait
   42 00000028         
   43 00000028         
   44 00000028         down                                 ; TODO: Decrement R
                                                            0 and jump to wait
   45 00000028         
   46 00000028         
   47 00000028         left
   48 00000028         



ARM Macro Assembler    Page 2 


   49 00000028         
   50 00000028         right
   51 00000028         ;Set a 1 to 2.2 and 2.4
   52 00000028 F04F 0214       mov              R2, #0x14
   53 0000002C 600A            str              R2, [R1]
   54 0000002E         ;store location of pos
   55 0000002E 4E14            LDR              R6, =bearing
   56 00000030 F04F 070F       MOV              R7, #15     ;stores degree pos 
                                                            in R7
   57 00000034 6037            STR              R7, [R6]
   58 00000036 F7FF FFFE       BL               waitHundredms
   59 0000003A         
   60 0000003A         ;set a 1 to 2.3 and 2.4
   61 0000003A F04F 0218       mov              R2, #0x18
   62 0000003E 600A            str              R2, [R1]
   63 00000040         ;store location of pos
   64 00000040 4E0F            LDR              R6, =bearing
   65 00000042 F04F 071E       MOV              R7, #30     ;stores degree pos 
                                                            in R7
   66 00000046 6037            STR              R7, [R6]
   67 00000048 F7FF FFFE       BL               waitHundredms
   68 0000004C         
   69 0000004C         ;set a 1 to 2.3 and 2.5
   70 0000004C F04F 0228       mov              R2, #0x28
   71 00000050 600A            str              R2, [R1]
   72 00000052         ;store location of pos
   73 00000052 4E0B            LDR              R6, =bearing
   74 00000054 F04F 072D       MOV              R7, #45     ;stores degree pos 
                                                            in R7
   75 00000058 6037            STR              R7, [R6]
   76 0000005A F7FF FFFE       BL               waitHundredms
   77 0000005E         
   78 0000005E         ;set a 1 to 2.2 and 2.5
   79 0000005E F04F 0224       mov              R2, #0x24
   80 00000062 600A            str              R2, [R1]
   81 00000064         ;store location of pos
   82 00000064 4E06            LDR              R6, =bearing
   83 00000066 F04F 073C       MOV              R7, #60     ;stores degree pos 
                                                            in R7
   84 0000006A 6037            STR              R7, [R6]
   85 0000006C F7FF FFFE       BL               waitHundredms
   86 00000070 E7CC            B                loop
   87 00000072         
   88 00000072                 ENDP
   89 00000072         
   90 00000072                 EXPORT           waitHundredms
   91 00000072         waitHundredms
                               PROC
   92 00000072         ; TODO: Copy code from lab 6
   93 00000072 4770            BX               LR
   94 00000074                 ENDP
   95 00000074                 END
              2009C040 
              2009C054 
              2009C034 
              00000000 
Command Line: --debug --xref --diag_suppress=9931,A1950W --cpu=Cortex-M3 --depe
nd=.\flash\fixed.d -o.\flash\fixed.o -I.\RTE\Device\LPC1768 -I.\RTE\_LPC1768_Fl
ash -IC:\Users\m241896\AppData\Local\Arm\Packs\ARM\CMSIS\5.9.0\CMSIS\Core\Inclu



ARM Macro Assembler    Page 3 


de -IC:\Users\m241896\AppData\Local\Arm\Packs\ARM\CMSIS\5.9.0\CMSIS\Driver\Incl
ude -IC:\Users\m241896\AppData\Local\Arm\Packs\Keil\LPC1700_DFP\2.7.1\Boards\Ke
il\MCB1700\Common -IC:\Users\m241896\AppData\Local\Arm\Packs\Keil\LPC1700_DFP\2
.7.1\Device\Include -IC:\Users\m241896\AppData\Local\Arm\Packs\Keil\LPC1700_DFP
\2.7.1\RTE_Driver -IC:\Users\m241896\AppData\Local\Arm\Packs\Keil\MDK-Middlewar
e\7.16.0\Board --predefine="__EVAL SETA 1" --predefine="__MICROLIB SETA 1" --pr
edefine="__UVISION_VERSION SETA 538" --predefine="_RTE_ SETA 1" --predefine="LP
C175x_6x SETA 1" --predefine="_RTE_ SETA 1" --list=.\flash\fixed.lst fixed.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

__main 00000000

Symbol: __main
   Definitions
      At line 6 in file fixed.s
   Uses
      At line 2 in file fixed.s
Comment: __main used once
down 00000028

Symbol: down
   Definitions
      At line 44 in file fixed.s
   Uses
      At line 32 in file fixed.s
Comment: down used once
left 00000028

Symbol: left
   Definitions
      At line 47 in file fixed.s
   Uses
      At line 35 in file fixed.s
Comment: left used once
loop 0000000C

Symbol: loop
   Definitions
      At line 23 in file fixed.s
   Uses
      At line 40 in file fixed.s
      At line 86 in file fixed.s

mycode 00000000

Symbol: mycode
   Definitions
      At line 1 in file fixed.s
   Uses
      None
Comment: mycode unused
right 00000028

Symbol: right
   Definitions
      At line 50 in file fixed.s
   Uses
      At line 38 in file fixed.s
Comment: right used once
up 00000028

Symbol: up
   Definitions
      At line 41 in file fixed.s
   Uses
      At line 29 in file fixed.s
Comment: up used once
waitHundredms 00000072




ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

Symbol: waitHundredms
   Definitions
      At line 91 in file fixed.s
   Uses
      At line 58 in file fixed.s
      At line 67 in file fixed.s
      At line 76 in file fixed.s
      At line 85 in file fixed.s
      At line 90 in file fixed.s

8 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

bearing 00000000

Symbol: bearing
   Definitions
      At line 3 in file fixed.s
   Uses
      At line 55 in file fixed.s
      At line 64 in file fixed.s
      At line 73 in file fixed.s
      At line 82 in file fixed.s

1 symbol
346 symbols in table
